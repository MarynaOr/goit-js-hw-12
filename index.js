import{a as g,i as p,S as h}from"./assets/vendor-D0cagnvz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const L="https://pixabay.com/api/",b="47645708-0e2c2a3797788683efa376261",y=async(e,t=1,n=15)=>{try{return(await g.get(L,{params:{key:b,q:e,page:t,per_page:n,image_type:"photo",orientation:"horizontal"}})).data}catch(s){console.error("Error fetching images:",s)}},m=e=>{const t=document.querySelector(".gallery"),n=e.map(s=>`
      <li class="gallery-item">
        <a href="${s.largeImageURL}" data-lightbox="gallery">
          <img src="${s.webformatURL}" alt="${s.tags}" />
        </a>
      </li>`).join("");t.insertAdjacentHTML("beforeend",n)},c=e=>{const t=document.querySelector(".load-more");e?t.style.display="block":t.style.display="none"},u=e=>{const t=document.querySelector(".loader");e?t.style.display="block":t.style.display="none"},f=()=>{const e=document.querySelector(".load-more");e.style.display="none",p.warning({title:"No more results",message:"We're sorry, but you've reached the end of search results."})};let i="",a=1,l=0;const S=document.querySelector(".form"),q=document.querySelector(".load-more"),w=document.querySelector(".gallery");S.addEventListener("submit",async e=>{if(e.preventDefault(),i=e.target.elements.search.value.trim(),!i)return;a=1,l=0,E(),u(!0);const t=await y(i,a);u(!1),t&&t.hits.length>0&&(m(t.hits),l=t.totalHits,c(!0)),l<=a*15&&(c(!1),f())});const E=()=>{w.innerHTML=""};q.addEventListener("click",async()=>{var t;a+=1,u(!0);const e=await y(i,a);if(u(!1),e&&e.hits.length>0&&(m(e.hits),l=e.totalHits),a*15>=l&&(c(!1),f()),((t=e==null?void 0:e.hits)==null?void 0:t.length)===0){c(!1),f();return}});let M=new h(".gallery a",{captions:!0,captionsData:"alt",captionDelay:250,captionPosition:"bottom"});M.on("error.simplelightbox",function(e){showEror(e)});
//# sourceMappingURL=index.js.map
