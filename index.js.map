{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '47645708-0e2c2a3797788683efa376261';\n\nexport async function fetchImg(search){\n const params = new URLSearchParams({  \n  key: API_KEY,\n        q: search,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n\n})\nconst data = await axios.get(`${BASE_URL}?${params}`)\nreturn data;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","export function createMarkup(images) {\n    // if (!Array.isArray(images) || images.length === 0) {\n    //   console.error('Invalid or empty data for createMarkup.');\n    //   return '';\n    // }\n  \n    return images\n      .map(\n        ({\n          id,\n          largeImageURL,\n          webformatURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n      <li class='item-gallery' data-id='${id}'>\n        <a class='link-gallery' href='${largeImageURL}'>\n          <img \n            class='img-gallery'\n            src='${webformatURL}'\n            alt='${tags}'\n            loading=\"lazy\"\n          >\n          <ul>\n            <li class='info-img'><span>Likes</span>${likes}</li>\n            <li class='info-img'><span>Views</span>${views}</li>\n            <li class='info-img'><span>Comments</span>${comments}</li>\n            <li class='info-img'><span>Downloads</span>${downloads}</li>\n          </ul>\n        </a>\n      </li>\n      `\n      )\n      .join('');\n  }\n  \n  export function showLoadingMessage(load) {\n    load.style.display = 'block';\n  }\n  \n  export function hideLoadingMessage(load) {\n    load.style.display = 'none';\n  }","import { fetchImg } from \"./js/pixabay-api\";\nimport { createMarkup, showLoadingMessage, hideLoadingMessage,} from \"./js/render-functions\";\n\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form')\nconst gallery = document.querySelector('.gallery')\nconst loader = document.querySelector('.loader')\nlet search ='';\n\nconst galleryImage = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 300,\n  });\n\nform.addEventListener('submit', handleSubmit)\n\nfunction handleSubmit (e){\n    e.preventDefault();\n    search =e.target.elements.search.value.trim();\n\n    if(search === ''){\n        iziToast.warning({\n            title: 'Caution',\n            message: 'The field is empty, please type your request',\n          \n        })\n        return\n    }\n    if(search){\n        showLoadingMessage(loader)\n    }\n\n\n\nfetchImg(search)\n.then(response => {\n  if (response.total === 0) {\n    gallery.innerHTML = '';\n    throw new Error();\n  }\n  hideLoadingMessage(loader);\n\n  return response.data.hits;\n})\n.then(image => {\n    gallery.innerHTML = '';\n    hideLoadingMessage(loader);\n\n    gallery.innerHTML = createMarkup(image);\n    search = '';\n    galleryImage.refresh();\n  })\n  .catch(() => {\n    iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  });\n\n\n}\n"],"names":["BASE_URL","API_KEY","fetchImg","search","params","axios","createMarkup","images","id","largeImageURL","webformatURL","tags","likes","views","comments","downloads","showLoadingMessage","load","hideLoadingMessage","form","gallery","loader","galleryImage","SimpleLightbox","handleSubmit","e","iziToast","response","image"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAASC,EAAO,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CAClC,IAAKH,EACC,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEpB,CAAC,EAED,OADa,MAAME,EAAM,IAAI,GAAGL,CAAQ,IAAII,CAAM,EAAE,CAEpD,CChBO,SAASE,EAAaC,EAAQ,CAMjC,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA,0CAC4BP,CAAE;AAAA,wCACJC,CAAa;AAAA;AAAA;AAAA,mBAGlCC,CAAY;AAAA,mBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,qDAI8BC,CAAK;AAAA,qDACLC,CAAK;AAAA,wDACFC,CAAQ;AAAA,yDACPC,CAAS;AAAA;AAAA;AAAA;AAAA,OAK3D,EACA,KAAK,EAAE,CACX,CAEM,SAASC,EAAmBC,EAAM,CACvCA,EAAK,MAAM,QAAU,OACtB,CAEM,SAASC,EAAmBD,EAAM,CACvCA,EAAK,MAAM,QAAU,MACzB,CCnCA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIlB,EAAQ,GAEZ,MAAMmB,EAAe,IAAIC,EAAe,aAAc,CAClD,aAAc,MACd,aAAc,GAClB,CAAG,EAEHJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAcC,EAAE,CAIrB,GAHAA,EAAE,eAAc,EAChBtB,EAAQsB,EAAE,OAAO,SAAS,OAAO,MAAM,OAEpCtB,IAAW,GAAG,CACbuB,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8CAErB,CAAS,EACD,MACH,CACEvB,GACCa,EAAmBK,CAAM,EAKjCnB,EAASC,CAAM,EACd,KAAKwB,GAAY,CAChB,GAAIA,EAAS,QAAU,EACrB,MAAAP,EAAQ,UAAY,GACd,IAAI,MAEZ,OAAAF,EAAmBG,CAAM,EAElBM,EAAS,KAAK,IACvB,CAAC,EACA,KAAKC,GAAS,CACXR,EAAQ,UAAY,GACpBF,EAAmBG,CAAM,EAEzBD,EAAQ,UAAYd,EAAasB,CAAK,EACtCzB,EAAS,GACTmB,EAAa,QAAO,CACxB,CAAG,EACA,MAAM,IAAM,CACXI,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACR,CAAK,CACL,CAAG,CAGH"}